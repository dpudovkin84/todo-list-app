<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <title>Spring Framework</title>
</head>
<body>

<h1 th:text="'Todos for user ' + ${user.username}" />

<div sec:authorize="hasRole('ROLE_ADMIN')">
    <br>
    <td><a th:href="@{/users}">Back to users list</a></td>
</div>

<th><a th:href="@{/todo/add/{userId}(userId=${user.id})}">Add todo</a></th>

<br>
<br>
<table>
    <tr>
        <th>ID</th>
        <th>Description</th>
        <th>Severity</th>
        <th>Completed</th>
        <th>Edit</th>
    </tr>
    <tr th:each="todo : ${todos}">
        <td th:text="${todo.id}"></td>
        <td th:text="${todo.description}"></td>
        <td th:text="${todo.severity}"></td>
        <td th:text="${todo.completed}"></td>
        <td><a th:href="@{/todo/{id}/edit(id=${todo.id})}">Edit</a></td>
    </tr>
</table>
<br>
<br>
    <th><a th:href="@{/}">Back to starting page</a></th>

</body>
</html>